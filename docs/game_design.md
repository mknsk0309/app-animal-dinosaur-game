# どうぶつ・きょうりゅうかくれんぼ - 詳細設計書

## キャラクター設計

### 動物キャラクター
| 環境 | 動物 | 特徴 | 鳴き声/効果音 |
|------|------|------|--------------|
| ジャングル | ライオン | たてがみが特徴的、王様の風格 | ガオー |
| ジャングル | サル | 木に登る、バナナが好き | ウキウキ |
| ジャングル | ヒョウ | 速く走れる、模様が特徴的 | グルル |
| 海 | イルカ | ジャンプが得意、賢い | キキキ |
| 海 | クジラ | 大きな体、潮を吹く | ポワーン |
| 海 | カメ | ゆっくり泳ぐ、長生き | のんびり音 |
| 砂漠 | ラクダ | こぶがある、水を飲まなくても大丈夫 | ブオー |
| 砂漠 | サソリ | はさみとしっぽがある、夜行性 | カチカチ |
| 砂漠 | トカゲ | 日光浴が好き、色が変わる種類も | サササ |
| 森 | キツネ | 賢い、尻尾がふさふさ | コンコン |
| 森 | ウサギ | ピョンピョン跳ねる、耳が長い | ピョンピョン |
| 森 | リス | 木の実を集める、尻尾がふわふわ | チュチュ |

### 恐竜キャラクター
| 環境 | 恐竜 | 特徴 | 効果音 |
|------|------|------|--------|
| ジャングル | ティラノサウルス | 大きな頭、小さな腕 | ガオォォ |
| ジャングル | ヴェロキラプトル | 速く走る、賢い | キャッキャッ |
| 海 | プレシオサウルス | 長い首、水中で泳ぐ | ポワーン |
| 海 | モササウルス | 大きな顎、海の捕食者 | ザバーン |
| 砂漠 | プテラノドン | 空を飛ぶ、くちばしが特徴的 | キィー |
| 砂漠 | スピノサウルス | 背中の帆が特徴、魚を食べる | ガルルル |
| 森 | トリケラトプス | 3本の角、大きな襟飾り | モォー |
| 森 | ステゴサウルス | 背中のプレート、尻尾のトゲ | ズシン |

## 環境（ステージ）設計

### ジャングルステージ
- **背景**: 緑豊かなジャングル、大きな木々、カラフルな花
- **BGM**: 鳥のさえずり、虫の音、葉のそよぐ音
- **特殊効果**: 時々木の葉が揺れる、蝶が飛ぶ
- **登場キャラクター**: ライオン、サル、ヒョウ、ティラノサウルス、ヴェロキラプトル

### 海ステージ
- **背景**: 青い海、砂浜、サンゴ礁
- **BGM**: 波の音、水の音
- **特殊効果**: 泡が浮かぶ、小魚が泳ぐ
- **登場キャラクター**: イルカ、クジラ、カメ、プレシオサウルス、モササウルス

### 砂漠ステージ
- **背景**: 砂丘、サボテン、岩
- **BGM**: 風の音、砂の音
- **特殊効果**: 砂埃が舞う、蜃気楼
- **登場キャラクター**: ラクダ、サソリ、トカゲ、プテラノドン、スピノサウルス

### 森ステージ
- **背景**: 落葉樹林、キノコ、小川
- **BGM**: 鳥のさえずり、川のせせらぎ
- **特殊効果**: 落ち葉が舞う、リスが木の実を集める
- **登場キャラクター**: キツネ、ウサギ、リス、トリケラトプス、ステゴサウルス

## 図鑑機能詳細設計

### 図鑑の構成
- **メイン画面**: 環境ごとにタブ分け、見つけた動物/恐竜のアイコンを表示
- **詳細画面**: キャラクターの拡大表示、簡単な説明文、鳴き声再生ボタン
- **達成度表示**: 各環境ごとの発見率、全体の発見率

### 図鑑の情報内容
- キャラクターの名前（ひらがな/カタカナ表記）
- 簡単な特徴説明（「ライオンはどうぶつの王さまだよ」など）
- 生息地や食べ物などの基本情報
- 実際の大きさ比較（お子さんとの大きさ比較など）

## シールブック機能詳細設計

### シールブックの構成
- **シール選択画面**: 獲得したシールを一覧表示
- **背景選択画面**: 様々な背景テンプレートを選択
- **編集画面**: シールの配置、サイズ変更、回転などの編集機能
- **保存/読み込み画面**: 作成したページの保存と読み込み

### シールの種類
- **通常シール**: 基本的な動物/恐竜のシール
- **キラキラシール**: 特定の条件で獲得できる特別なシール
- **アニメーションシール**: 画面上で動くシール
- **音が出るシール**: タップすると鳴き声が出るシール

### シールブックの特典
- 全ての環境をクリアすると特別な背景がアンロック
- 特定のシールの組み合わせで特別なアニメーションが発生

## UI/UX詳細設計

### メインメニュー
- **スタートボタン**: 大きく、中央に配置
- **図鑑ボタン**: 本のアイコンで表示
- **シールブックボタン**: シールのアイコンで表示
- **設定ボタン**: 歯車アイコンで表示

### ゲーム画面
- **カード**: 難易度に応じたサイズと枚数
- **環境名**: 現在プレイ中の環境名を表示
- **戻るボタン**: 環境選択画面に戻るボタン

### 難易度設定画面
- **難易度選択**: かんたん・ふつう・むずかしいから選択
- **難易度説明**: 各難易度の特徴を説明
- **戻るボタン**: 前の画面に戻るボタン

### フィードバック演出
- **成功時**: 花火や風船、キラキラエフェクト
- **ペア発見時**: キャラクターが喜ぶアニメーション、褒める音声
- **ゲームクリア時**: 全キャラクターが集まってお祝いパレード

## 技術実装計画

### Pygameの主要コンポーネント
- **画面管理**: `pygame.display`モジュールを使用
- **画像処理**: `pygame.image`モジュールを使用
- **音声管理**: `pygame.mixer`モジュールを使用
- **イベント処理**: `pygame.event`モジュールを使用

### ファイル構成
```
app-animal-dinosaur-game/
├── main.py              # メインゲームループ
├── game/
│   ├── __init__.py
│   ├── game_manager.py  # ゲーム全体の管理
│   ├── environment.py   # 環境クラス
│   ├── character.py     # キャラクタークラス
│   ├── card.py          # カードクラス（予定）
│   ├── encyclopedia.py  # 図鑑クラス（予定）
│   └── sticker_book.py  # シールブッククラス（予定）
├── ui/
│   ├── __init__.py
│   ├── button.py        # ボタンクラス
│   ├── menu.py          # メインメニュー
│   ├── environment_select.py # 環境選択画面
│   ├── difficulty_select.py # 難易度選択画面
│   ├── game_screen.py   # ゲーム画面
│   ├── encyclopedia_ui.py # 図鑑UI（開発中）
│   └── sticker_book_ui.py # シールブックUI（開発中）
├── assets/
│   ├── images/          # 画像ファイル
│   │   ├── backgrounds/ # 背景画像
│   │   ├── card_backs/  # カード裏面画像
│   │   ├── characters/  # キャラクター画像
│   │   │   ├── animals/ # 動物画像
│   │   │   └── dinosaurs/ # 恐竜画像
│   │   └── ui/          # UI要素画像
│   ├── sounds/          # 音声ファイル（予定）
│   └── fonts/           # フォントファイル
├── data/                # データファイル（予定）
│   ├── characters.json  # キャラクター情報
│   ├── environments.json # 環境情報
│   └── user_data.json   # ユーザーデータ保存
└── utils/
    ├── __init__.py
    ├── config.py        # 設定管理
    ├── font_manager.py  # フォント管理
    └── resource_loader.py # リソース読み込み
```

### データ構造
- キャラクター情報、環境情報はJSONファイルで管理
- ユーザーの進行状況、シールブックデータも保存可能に

## 教育的要素の実装

### 学習コンテンツ
- 動物/恐竜の基本情報（大きさ、食べ物、特徴）
- 生息環境についての簡単な説明
- 数の概念（「2匹見つけたね！」など）
- 色や形の認識（「赤いカードを選んでね」など）

### フィードバック方法
- 正解時に褒める言葉かけ
- 間違えても励ます言葉かけ
- 達成感を感じられる演出

## アクセシビリティ対応

### 操作性
- 大きなボタンと明確な視覚的フィードバック
- シンプルな操作方法（タップ/クリックのみ）
- 操作の反応速度を調整可能に

### 視覚・聴覚サポート
- 色覚特性に配慮した色使い
- テキストと音声の併用
- 音量調整機能
